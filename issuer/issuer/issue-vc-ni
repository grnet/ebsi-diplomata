#!/bin/bash

# Sole purpose of this script is to run `issue-vc` in a non-interactive
# fashion. It is not robust, so take care to provide correct arguments.

HOLDER_DID="${1}"
PERSON_IDENTIFIER="${2}"
PERSON_FAMILY_NAME="${3}"
PERSON_GIVEN_NAME="${4}"
PERSON_DATE_OF_BIRTH="${5}"
AWARDING_OPPORTUNITY_ID="${6}"
AWARDING_OPPORTUNITY_IDENTIFIER="${7}"
AWARDING_OPPORTUNITY_LOCATION="${8}"
AWARDING_OPPORTUNITY_STARTED_AT="${9}"
AWARDING_OPPORTUNITY_ENDED_AT="${10}"
AWARDING_BODY_PREFERRED_NAME="${11}"
AWARDING_BODY_HOMEPAGE="${12}"
AWARDING_BODY_REGISTRACTION="${13}"
AWARDING_BODY_EIDAS_LEGAL_IDENTIFIER="${14}"
GRADING_SCHEME_ID="${15}"
GRADING_SCHEME_TITLE="${16}"
GRADING_SCHEME_DESCRIPTION="${17}"
LEARNING_ACHIEVEMENT_ID="${18}"
LEARNING_ACHIEVEMENT_TITLE="${19}"
LEARNING_ACHIEVEMENT_DESCRIPTION="${20}"
LEARNING_ACHIEVEMENT_ADDITIONAL_NOTE="${21}"
LEARNING_SPECIFICATION_ID="${22}"
LEARNING_SPECIFICATION_ECTS_CREDIT_POINTS="${23}"
LEARNING_SPECIFICATION_EQF_LEVEL="${24}"
LEARNING_SPECIFICATION_ISCEDF_CODE="${25}"
LEARNING_SPECIFICATION_NQF_LEVEL="${26}"
LEARNING_SPECIFICATION_EVIDENCE_ID="${27}"
LEARNING_SPECIFICATION_EVIDENCE_TYPE="${28}"
LEARNING_SPECIFICATION_VERIFIER="${29}"
LEARNING_SPECIFICATION_EVIDENCE_DOCUMENT="${30}"
LEARNING_SPECIFICATION_SUBJECT_PRESENCE="${31}"
LEARNING_SPECIFICATION_DOCUMENT_PRESENCE="${32}"

args=
args+="${PERSON_IDENTIFIER}\n"
args+="${PERSON_FAMILY_NAME}\n"
args+="${PERSON_GIVEN_NAME}\n"
args+="${PERSON_DATE_OF_BIRTH}\n"
args+="${AWARDING_OPPORTUNITY_ID}\n"
args+="${AWARDING_OPPORTUNITY_IDENTIFIER}\n"
args+="${AWARDING_OPPORTUNITY_LOCATION}\n"
args+="${AWARDING_OPPORTUNITY_STARTED_AT}\n"
args+="${AWARDING_OPPORTUNITY_ENDED_AT}\n"
args+="${AWARDING_BODY_PREFERRED_NAME}\n"
args+="${AWARDING_BODY_HOMEPAGE}\n"
args+="${AWARDING_BODY_REGISTRACTION}\n"
args+="${AWARDING_BODY_EIDAS_LEGAL_IDENTIFIER}\n"
args+="${GRADING_SCHEME_ID}\n"
args+="${GRADING_SCHEME_TITLE}\n"
args+="${GRADING_SCHEME_DESCRIPTION}\n"
args+="${LEARNING_ACHIEVEMENT_ID}\n"
args+="${LEARNING_ACHIEVEMENT_TITLE}\n"
args+="${LEARNING_ACHIEVEMENT_DESCRIPTION}\n"
args+="${LEARNING_ACHIEVEMENT_ADDITIONAL_NOTE}\n"
args+="${LEARNING_SPECIFICATION_ID}\n"
args+="${LEARNING_SPECIFICATION_ECTS_CREDIT_POINTS}\n"
args+="${LEARNING_SPECIFICATION_EQF_LEVEL}\n"
args+="${LEARNING_SPECIFICATION_ISCEDF_CODE}\n"
args+="${LEARNING_SPECIFICATION_NQF_LEVEL}\n"
args+="${LEARNING_SPECIFICATION_EVIDENCE_ID}\n"
args+="${LEARNING_SPECIFICATION_EVIDENCE_TYPE}\n"
args+="${LEARNING_SPECIFICATION_VERIFIER}\n"
args+="${LEARNING_SPECIFICATION_EVIDENCE_DOCUMENT}\n"
args+="${LEARNING_SPECIFICATION_SUBJECT_PRESENCE}\n"
args+="${LEARNING_SPECIFICATION_DOCUMENT_PRESENCE}\n"

printf $args | issue-vc --holder-did ${HOLDER_DID}
